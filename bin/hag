#!/usr/bin/env node

var cli = require('../lib/cli')
var generator = require('../generator');

var options = {
    port: cli.p,
    templatesPath: cli.t,
    outputPath: cli.o,
    instructionsPath: cli.i,
    dataPath: 'data',
    activeCommand: cli._[0]
}

console.log('Active command:', global.activeCommand);

var command = generator(options)[options.activeCommand];
if (command) {
    command();
} else {
    console.error('Unrecognised command', global.activeCommand);
    console.log('Use --help to view instructions');
    process.exit(1);
}
